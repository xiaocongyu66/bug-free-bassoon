name = "github-releases-proxy"
compatibility_date = "2025-12-12"
main = "src/index.js"
workers_dev = true

# 如果要绑定自定义域名，取消注释并修改
# routes = [
#   { pattern = "your-domain.com", zone_name = "your-domain.com" }
# ]

# 环境变量
[vars]
REPO_LIST_URL = "https://raw.githubusercontent.com/example/repo-list/main/url.txt"
# GITHUB_TOKEN 需要在部署时通过命令行或Dashboard设置
# CACHE_DURATION = "300"

# 如果有 KV 命名空间用于缓存，可以配置
# [[kv_namespaces]]
# binding = "RELEASES_CACHE"
# id = "your-kv-id"

# 构建配置（如果有）
[build]
# command = "npm run build"
# upload.format = "modules"
# upload.main = "./src/index.js"

[build.upload]
format = "service-worker"

# 部署配置
[deployment]
env_vars = { GITHUB_TOKEN = "@github_token" }